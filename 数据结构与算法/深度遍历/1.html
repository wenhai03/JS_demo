<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<div id="root">
  <ul>
    <li><a href=""><img src="" alt=""></a></li>
    <li>
      <span></span>
    </li>
    <li></li>
  </ul>
</div>

<script>
  /*
   function deepFirstSearch (node, nodeList) {
      if (node) {
        nodeList.push(node)
        var children = node.children
        for (var i = 0; i < children.length; i++)
          //每次递归的时候将 需要遍历的节点 和 节点所存储的数组传下去
          deepFirstSearch(children[i], nodeList)
      }
      return nodeList
    }

    let root = document.getElementById('root')
    var r = deepFirstSearch(root, nodeList = [])
    console.log('r -> ', r)
    console.log(getName(data))

    */

  // 广度遍历, 创建一个执行队列, 当队列为空的时候则结束
  function getName2 (data) {
    let result = []
    let queue = data
    while (queue.length > 0) {
      [...queue].forEach(child => {
        queue.shift()
        result.push(child.name)
        child.children && (queue.push(...child.children))
      })
    }
    return result.join(',')
  }

  console.log(getName2(data))
</script>
</body>
</html>